kwpostfix::Konfiguration::restrictions::Hilfe

check_{client,helo,recipient,sender}_access typ:mapname:
        Pruefen, ob die Absender-, Empfaenger-, Hostname- bzw. die
        Helo Angabe in einer access Tabelle mit einem OK oder REJECT
        belegt ist. Im Normalfall erlaubt Postfix jede dieser An-
        gaben. Über eine access Tabelle lassen sich gezielt einzelne
        Adressen oder Hosts blocken.

check_{helo,recipient,sender}_mx_access typ:mabname:
        Pruefen, ob der MX-Record der Domain des Clientnamens bzw.
        der Absender-/Empfaengerdomain in der access-table mit
        einem REJECT oder DUNNO belegt ist (ein OK ist aus
        Sicherheitsgruenden nicht erlaubt).

check_{helo,recipient,sender}_ns_access typ:mabname:
        Pruefen, ob der Nameserver der Domain des Clientnamens bzw.
        der Absender-/Empfaengerdomain in der access-table mit
        einem REJECT oder DUNNO belegt ist (ein OK ist aus
        Sicherheitsgruenden nicht erlaubt).

defer: Verschiebt die Abfrage der Ueberpruefung. Dies sagt dem
        Client versuche es spaeter nochmal, z.B. wenn
        die Mailbox gesperrt/ueberfuellt/offline ist. Es wird
        danach explizit die Standard Pruefungsroutine benutzt.

defer_if_permit: Verschiebt die Abfrage, falls einige spaetere
        Restrictions in eine explizite oder mit eingeschlossene
        PERMIT Aktion enden. Dies ist nuetzlich, falls ein
        Blacklist Eintrag fehlt und zu einem Temporaeren
        Fehler fuehrt. 

defer_if_reject: Verschiebt die Abfrage, falls einige spaetere
        Restrictions in einer REJECT Aktion enden. Dies ist 
        nuetzlich, falls ein Whitelist Eintrag fehlt und zu einem
        Temporaeren Fehler fuehrt.

permit: Liefert generell ein Ok und beendet die Pruefung.

permit_auth_destination: liefert ein OK, wenn
        die Zieladresse in $relay_domins vorkommt oder Postfix die
        End Adresse fuer diese Domain ist, also die Domain in
        $mydestination, $inet_interfaces oder $virtual_maps
        vorkommt.

        Der Hostname wird hier ignoriert!

permit_mx_backup: Die Mail wird akzeptiert, wenn ein MX-Record der
        Empfaengerdomain auf unseren Mailserver zeigt. Unser Postfix
        muss dabei nicht unbedingt der eigentliche Zielrechner sein,
        er kann auch lediglich als Backup Relay fungieren und die 
        Aufgabe haben, die Mails an den eigentlichen Ziel-Mailserver
        zuzustellen. Im Normalfall wuerde Postfix diese Aufgabe aber
        verweigern, wenn der Ziel-Mailserver ausserhalb unsereres IP
        Netzes liegt und Postfix damit ein Open Relay waere.

permit_mynetworks: Mail wird akzeptiert, wenn der Client innerhalb des
        eigenen Netzes liegt, das ueber die Variable $mynetworks
        definiert ist. Dieser Parameter ist sehr wichtig, ihm kommt
        eine entscheidende Rolle zu: Im Normalfall nehmen wir ja nur
        Mails an, fuer die wir
        
        das Ziel sind ($mydestination)
        ein MX-Relay sind (permit_mx_backup)
		ein definiertes Relay sind ($relay_domins).

        Über permit_mynetworks aber nehmen wir von den freige-
        schalteten IP-Nummern Mails auch dann an, wenn der Empfaenger
        ausserhalb unseres eigenen Netzes liegt. Üblicherweise wollen
        wir dies eigentlich nicht, denn anderfalls waeren wir ein
        Open-Relay. Fuer unser lokales Netz aber stellt ja gerade
        dieser Server den zustaendigen Mailserver fuer ausgehende
        Mails dar, bei dem die Clients einliefern sollen. Hosts aus
        dem lokalen Netz es eben gerade doch erlaubt sein, Mails an
        externe Mailadressen einzuliefern. Und diese Ausnahmeregelung
        wird ueber permit_mynetworks erlaubt.

permit_naked_ip_adress: Liefert ein REJECT, wenn nach dem HELO/EHLO
        Kommando nur eine nackte IP-Nummer angegebenen wurde und
        diese nicht wie vorgeschrieben in Klammern ([]) gesetzt ist.
        Sollte man eher nicht aktivieren, einige Mailclients erzeugen
        derart defekte HELO Kommandos.

permit_sasl_authenticated: Erlaubt SMTP-Auth, sofern die User aus
        einem fremden DUL-Bereich (Dialup User List) kommen. Wird
        bei dynamischen IP's benutzt (Internet Service Provider).

permit_tls_all_clientcerts: Erlaubt Mails, falls das entfernte
        SMTP-Client Zertrifikat bei der Ueberpruefung in Ordnung
        ist (man 5 postconf).

permit_tls_clientcerts: Erlaubt Mails, falls das entfernte
        SMTP-Client Zertrifikat bei der Ueberpruefung in Ordnung
        ist und der Fingerprint des Zertrifikats in
        "$relay_clientcerts" gelistet ist.

reject: Liefert generell ein Reject und beendet die Pruefung.

reject_authenticated_sender_login_mismatch: Enforces the
        reject_sender_login_mismatch restriction for authenticated
        clients  only. 

reject_invalid_hostname: Liefert ein REJECT, wenn nach dem HELO/EHLO
        Kommando ein Hostname in einer ungueltigen Syntax
        angegebenen wird (Umlaute, Sonderzeichen, Leerzeichen).

reject_multi_recipient_bounce: Reject the request when the envelope
        sender is the null address, and the message has  multiple
        envelope recipients. Although this usage is technically
        allowed, it seems to have no legitimate application..

reject_non_fqdn_{hostname,recipient,sender},
reject_non_fqdn_hostname: Blockt die Adresse, wenn Sie kein Fully
        Qualified Domain Name (FQDN) ist. Das ist dann der Fall,
        wenn Sie nur aus einem Hostnamen, nicht aber aus einem Host-
        namen und einer Domain besteht. Eine solche Adresse wird
        zwar i.d.R. auch nicht ueber einen A- oder MX-Record verfuegen,
        da es sich ja eben nicht um einen normal aufloesende Domain
        handelt, doch ist es sinnvoll diese Pruefungen vorzunehmen:
        Gibt der einliefernde Hoast eine Adresse mit einem in der
        eigenen Domain vorhandenen Host (Bsp. www), so besteht die
        Gefahr das das lokale DNS diesen blanken Hostnamen durch
        anhaengen der eigenen Domain aufloest - uns ploetzlich zu
        einem gueltigen A- oder MX-Record kommt.

reject_rbl_client: Liefert ein REJECT, wenn der Hostname/Domain des
        Clients ein Realtime Blacklisted Host ist. Es koennen
        mehrere Domains angegebenen werden, die abgefragt werden
        sollen (Bsp. relays.ordb.org, list.dsbl.org) 

reject_rhsbl_client: Liefert ein REJECT, wenn der Hostname/Domain
        des Clients ein Right-Hand Side Blacklisted Host ist. Es
        koennen mehrere Domains angegebenen werden, die abgefragt
        werden sollen (Bsp. blackhole.securitysage.com).

reject_rhsbl_recipient: Liefert ein REJECT, wenn der Hostname/Domain
        des Empfaengers ein Right-Hand Side Blacklisted Host ist. Es
        koennen mehrere Domains angegebenen werden, die abgefragt
        werden sollen (Bsp. blackhole.securitysage.com).

reject_rhsbl_sender: Liefert ein REJECT, wenn der Hostname/Domain
        des Absenders ein Right-Hand Side Blacklisted Host ist. Es
        koennen mehrere Domains angegebenen werden, die abgefragt
        werden sollen (Bsp. blackhole.securitysage.com).

reject_sender_login_mismatch: Reject the request when 
        $smtpd_sender_login_maps specifies an owner for the MAIL
        FROM address, but the client is not (SASL) logged in as
        that MAIL FROM address owner; or when the client is (SASL)
        logged in, but the client login name doesn't own the MAIL
        FROM address according to $smtpd_sender_login_maps.

reject_unauth_destination: Liefert ein REJECT, solange nicht
        die Zieladresse in $relay_domins vorkommt oder
        Postfix Final Destination fuer diese Domain ist, also die
        Domain in $mydestination,$inet_interfaces oder $virtual_maps
        vorkommt.

        Trifft beides nicht zu, liefert die Pruefung REJECT, d.h., die
        Pruefung wird beendet und die Mail abgelehnt. Bei
        permit_auth_destination wuerde hingegen weiter geprueft werden,
        ob noch ein anderer Punkt ein OK liefern wuerde!

reject_unauth_pipelining: Manche Spam Software sendet SMTP
        Kommandos, ohne die Return Codes des Mailservers abzuwarten.
        Das soll Zeit sparen. Grundsaetzlich ist ein solches Ver-
        halten legitim, unter dem Namen Command Pipelining koennen
        sich Server darauf einigen, dass Sie dies zulassen. Postfix
        bietet hier an, Clients zu blocken die Command Pipelining
        durchfuehren, ohne sich vorher vergewissert zu haben, ob
        Postfix das erlaubt.

reject_unauthenticated_sender_login_mismatch: Enforces the
        reject_sender_login_mismatch restriction for unauthenticated
        clients only. 

reject_unknown_client: Liefert ein REJECT, wenn fuer den Client im
        DNS kein PTR, alsa kein Name zur IP Nummer gesetzt ist.

reject_unknown_{recipient,sender}_domain, reject_unknown_hostname:
        Blocken die Mail, wenn die Empfaenger- bzw.
        Absenderadresse im DNS weder ueber einen A-, noch ueber einen
        MX-Record verfuegt, d. h., wenn an die angegebene Mailadresse
        keine Mail zugestellt werden kann; das macht Sie verdaechtig.

reject_unlisted_sender: Reject the request when the MAIL FROM address
        is not listed in the list of valid recipients for its domain
        class. See the smtpd_reject_unlisted_sender parameter
        description for details..

reject_unverified_{sender,recipient}: Blockt Mails, wenn die
        Absender- oder Empfaengeradresse nicht bekannt ist.
        Postfix prueft, ob und wie die Adresse in der lookup-
        Tabelle bekannt ist und damit umgegangen werden soll.
        (Bsp. Whitelist, hash:/etc/postfix/check_sender_access)
		Wenn Sie ein warn_if_reject voranstellen werden die geblockten
        Mails geloggt.

warn_if_reject: Wuerde die nachfolgende Pruefung ein Reject liefern,
        aendert dieser Parameter das Verhalten von Postfix. Statt
        mit einem Reject aus der Pruefung auszusteigen, wird nur ein
        Log Eintrag erzeugt und weiter in der Pruefung fortgefahren.
        Damit lassen sich Konfigurationaenderungen leicht testen, ohne
        den Verlust von Mails riskieren zu muessen.

